from copy import deepcopy
#from line_profiler import LineProfiler

tcol=[["" for i in range(12)] for j in range(9)]

def breakscram(scramble, col):
    for move in scramble.split():
        if move == "R":
            right(col)
        if move == "L":
            left(col)
        if move == "F":
            front(col)
        if move == "B":
            back(col)
        if move == "U":
            up(col)
        if move == "D":
            down(col)
        if move == "R'":
            rightd(col)
        if move == "L'":
            leftd(col)
        if move == "F'":
            frontd(col)
        if move == "B'":
            backd(col)
        if move == "U'":
            upd(col)
        if move == "D'":
            downd(col)
        if move == "R2":
            right2(col)
        if move == "L2":
            left2(col)
        if move == "F2":
            front2(col)
        if move == "B2":
            back2(col)
        if move == "U2":
            up2(col)
        if move == "D2":
            down2(col)





def right(newcol):
    tcol=[x[:] for x in newcol]
    newcol[0][8] = tcol[3][8]   #[6][8] = tcol[5][0]
    newcol[1][8] = tcol[4][8]   #[7][8] = tcol[4][0]
    newcol[2][8] = tcol[5][8]   #[8][8] = tcol[3][0]
    newcol[3][0] = tcol[2][8]   #[5][8] = tcol[8][8]
    newcol[3][8] = tcol[6][8]   #[5][0] = tcol[0][8]
    newcol[3][9] = tcol[5][9]   #[5][11] = tcol[3][11]
    newcol[3][10] = tcol[4][9]  #[5][10] = tcol[4][11]
    newcol[3][11] = tcol[3][9]  #[5][9] = tcol[5][11]
    newcol[4][0] = tcol[1][8]   #[4][8] = tcol[7][8]
    newcol[4][8] = tcol[7][8]   #[4][0] = tcol[1][8]
    newcol[4][9] = tcol[5][10]  #[4][11] = tcol[3][10]
    newcol[4][11] = tcol[3][10] #[4][9] = tcol[5][10]
    newcol[5][0] = tcol[0][8]   #[3][8] = tcol[6][8]
    newcol[5][8] = tcol[8][8]   #[3][0] = tcol[2][8]
    newcol[5][9] = tcol[5][11]  #[3][11] = tcol[3][9]
    newcol[5][10] = tcol[4][11] #[3][10] = tcol[4][9]
    newcol[5][11] = tcol[3][11] #[3][9] = tcol[5][9]
    newcol[6][8] = tcol[5][0]   #[0][8] = tcol[3][8]
    newcol[7][8] = tcol[4][0]   #[1][8] = tcol[4][8]
    newcol[8][8] = tcol[3][0]   #[2][8] = tcol[5][8]


def right2(newcol):
    tcol=[x[:] for x in newcol]
    newcol[0][8] = tcol[6][8]
    newcol[1][8] = tcol[7][8]
    newcol[2][8] = tcol[8][8]
    newcol[3][0] = tcol[5][8]
    newcol[3][8] = tcol[5][0]
    newcol[3][9] = tcol[5][11]
    newcol[3][10] = tcol[5][10]
    newcol[3][11] = tcol[5][9]
    newcol[4][0] = tcol[4][8]
    newcol[4][8] = tcol[4][0]
    newcol[4][9] = tcol[4][11]
    newcol[4][11] = tcol[4][9]
    newcol[5][0] = tcol[3][8]
    newcol[5][8] = tcol[3][0]
    newcol[5][9] = tcol[3][11]
    newcol[5][10] = tcol[3][10]
    newcol[5][11] = tcol[3][9]
    newcol[6][8] = tcol[0][8]
    newcol[7][8] = tcol[1][8]
    newcol[8][8] = tcol[2][8]


def rightd(newcol):
    tcol=[x[:] for x in newcol]
    newcol[0][8] = tcol[5][0]
    newcol[1][8] = tcol[4][0]
    newcol[2][8] = tcol[3][0]
    newcol[3][0] = tcol[8][8]
    newcol[3][8] = tcol[0][8]
    newcol[3][9] =  tcol[3][11]
    newcol[3][10] = tcol[4][11]
    newcol[3][11] =tcol[5][11]
    newcol[4][0] = tcol[7][8]
    newcol[4][8] = tcol[1][8]
    newcol[4][9] =  tcol[3][10]
    newcol[4][11] =tcol[5][10]
    newcol[5][0] = tcol[6][8]
    newcol[5][8] = tcol[2][8]
    newcol[5][9] =  tcol[3][9]
    newcol[5][10] = tcol[4][9]
    newcol[5][11] =tcol[5][9]
    newcol[6][8] = tcol[3][8]
    newcol[7][8] = tcol[4][8]
    newcol[8][8] = tcol[5][8]


def left(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[5][2]   #[6][6] = tcol[3][6]
    newcol[1][6] = tcol[4][2]   #[7][6] = tcol[4][6]
    newcol[2][6] = tcol[3][2]   #[8][6] = tcol[5][6]
    newcol[3][2] = tcol[8][6]   #[5][6] = tcol[2][6]
    newcol[3][3] = tcol[5][3]   #[5][5] = tcol[3][5]
    newcol[3][4] = tcol[4][3]   #[5][4] = tcol[4][5]
    newcol[3][5] = tcol[3][3]   #[5][3] = tcol[5][5]
    newcol[3][6] = tcol[0][6]   #[5][2] = tcol[6][6]
    newcol[4][2] = tcol[7][6]   #[4][6] = tcol[1][6]
    newcol[4][3] = tcol[5][4]   #[4][5] = tcol[3][4]
    newcol[4][5] = tcol[3][4]   #[4][3] = tcol[5][4]
    newcol[4][6] = tcol[1][6]   #[4][2] = tcol[7][6]
    newcol[5][2] = tcol[6][6]   #[3][6] = tcol[0][6]
    newcol[5][3] = tcol[5][5]   #[3][5] = tcol[3][3]
    newcol[5][4] = tcol[4][5]   #[3][4] = tcol[4][3]
    newcol[5][5] = tcol[3][5]   #[3][3] = tcol[5][3]
    newcol[5][6] = tcol[2][6]   #[3][2] = tcol[8][6]
    newcol[6][6] = tcol[3][6]   #[0][6] = tcol[5][2]
    newcol[7][6] = tcol[4][6]   #[1][6] = tcol[4][2]
    newcol[8][6] = tcol[5][6]   #[2][6] = tcol[3][2]

def left2(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[6][6]
    newcol[1][6] = tcol[7][6]
    newcol[2][6] = tcol[8][6]
    newcol[3][2] = tcol[5][6]
    newcol[3][3] = tcol[5][5]
    newcol[3][4] = tcol[5][4]
    newcol[3][5] = tcol[5][3]
    newcol[3][6] = tcol[5][2]
    newcol[4][2] = tcol[4][6]
    newcol[4][3] = tcol[4][5]
    newcol[4][5] = tcol[4][3]
    newcol[4][6] = tcol[4][2]
    newcol[5][2] = tcol[3][6]
    newcol[5][3] = tcol[3][5]
    newcol[5][4] = tcol[3][4]
    newcol[5][5] = tcol[3][3]
    newcol[5][6] = tcol[3][2]
    newcol[6][6] = tcol[0][6]
    newcol[7][6] = tcol[1][6]
    newcol[8][6] = tcol[2][6]

def leftd(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[3][6]
    newcol[1][6] = tcol[4][6]
    newcol[2][6] = tcol[5][6]
    newcol[3][2] = tcol[2][6]
    newcol[3][3] = tcol[3][5]
    newcol[3][4] = tcol[4][5]
    newcol[3][5] = tcol[5][5]
    newcol[3][6] = tcol[6][6]
    newcol[4][2] = tcol[1][6]
    newcol[4][3] = tcol[3][4]
    newcol[4][5] = tcol[5][4]
    newcol[4][6] = tcol[7][6]
    newcol[5][2] = tcol[0][6]
    newcol[5][3] = tcol[3][3]
    newcol[5][4] = tcol[4][3]
    newcol[5][5] = tcol[5][3]
    newcol[5][6] = tcol[8][6]
    newcol[6][6] = tcol[5][2]
    newcol[7][6] = tcol[4][2]
    newcol[8][6] = tcol[3][2]


def front(newcol):
    tcol = [x[:] for x in newcol]
    newcol[2][5] = tcol[6][5]   #[6][9] = tcol[2][9]
    newcol[2][6] = tcol[5][5]   #[6][8] = tcol[3][9]
    newcol[2][7] = tcol[4][5]   #[6][7] = tcol[4][9]
    newcol[2][8] = tcol[3][5]   #[6][6] = tcol[5][9]
    newcol[2][9] = tcol[2][5]   #[6][5] = tcol[6][9]
    newcol[3][5] = tcol[6][6]   #[5][9] = tcol[2][8]
    newcol[3][6] = tcol[5][6]   #[5][8] = tcol[3][8]
    newcol[3][7] = tcol[4][6]   #[5][7] = tcol[4][8]
    newcol[3][8] = tcol[3][6]   #[5][6] = tcol[5][8]
    newcol[3][9] = tcol[2][6]   #[5][5] = tcol[6][8]
    newcol[4][5] = tcol[6][7]   #[4][9] = tcol[2][7]
    newcol[4][6] = tcol[5][7]   #[4][8] = tcol[3][7]
    newcol[4][8] = tcol[3][7]   #[4][6] = tcol[5][7]
    newcol[4][9] = tcol[2][7]   #[4][5] = tcol[6][7]
    newcol[5][5] = tcol[6][8]   #[3][9] = tcol[2][6]
    newcol[5][6] = tcol[5][8]   #[3][8] = tcol[3][6]
    newcol[5][7] = tcol[4][8]   #[3][7] = tcol[4][6]
    newcol[5][8] = tcol[3][8]   #[3][6] = tcol[5][6]
    newcol[5][9] = tcol[2][8]   #[3][5] = tcol[6][6]
    newcol[6][5] = tcol[6][9]   #[2][9] = tcol[2][5]
    newcol[6][6] = tcol[5][9]   #[2][8] = tcol[3][5]
    newcol[6][7] = tcol[4][9]   #[2][7] = tcol[4][5]
    newcol[6][8] = tcol[3][9]   #[2][6] = tcol[5][5]
    newcol[6][9] = tcol[2][9]   #[2][5] = tcol[6][5]


def front2(newcol):
    tcol = [x[:] for x in newcol]
    newcol[2][5] = tcol[6][9]
    newcol[2][6] = tcol[6][8]
    newcol[2][7] = tcol[6][7]
    newcol[2][8] = tcol[6][6]
    newcol[2][9] = tcol[6][5]
    newcol[3][5] = tcol[5][9]
    newcol[3][6] = tcol[5][8]
    newcol[3][7] = tcol[5][7]
    newcol[3][8] = tcol[5][6]
    newcol[3][9] = tcol[5][5]
    newcol[4][5] = tcol[4][9]
    newcol[4][6] = tcol[4][8]
    newcol[4][8] = tcol[4][6]
    newcol[4][9] = tcol[4][5]
    newcol[5][5] = tcol[3][9]
    newcol[5][6] = tcol[3][8]
    newcol[5][7] = tcol[3][7]
    newcol[5][8] = tcol[3][6]
    newcol[5][9] = tcol[3][5]
    newcol[6][5] = tcol[2][9]
    newcol[6][6] = tcol[2][8]
    newcol[6][7] = tcol[2][7]
    newcol[6][8] = tcol[2][6]
    newcol[6][9] = tcol[2][5]

def frontd(newcol):
    tcol = [x[:] for x in newcol]
    newcol[2][5] = tcol[2][9]
    newcol[2][6] = tcol[3][9]
    newcol[2][7] = tcol[4][9]
    newcol[2][8] = tcol[5][9]
    newcol[2][9] = tcol[6][9]
    newcol[3][5] = tcol[2][8]
    newcol[3][6] = tcol[3][8]
    newcol[3][7] = tcol[4][8]
    newcol[3][8] = tcol[5][8]
    newcol[3][9] = tcol[6][8]
    newcol[4][5] = tcol[2][7]
    newcol[4][6] = tcol[3][7]
    newcol[4][8] = tcol[5][7]
    newcol[4][9] = tcol[6][7]
    newcol[5][5] = tcol[2][6]
    newcol[5][6] = tcol[3][6]
    newcol[5][7] = tcol[4][6]
    newcol[5][8] = tcol[5][6]
    newcol[5][9] = tcol[6][6]
    newcol[6][5] = tcol[2][5]
    newcol[6][6] = tcol[3][5]
    newcol[6][7] = tcol[4][5]
    newcol[6][8] = tcol[5][5]
    newcol[6][9] = tcol[6][5]

def back(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[3][11]      #[8][8] = tcol[5][3]
    newcol[0][7] = tcol[4][11]      #[8][7] = tcol[4][3]
    newcol[0][8] = tcol[5][11]      #[8][6] = tcol[3][3]
    newcol[3][0] = tcol[5][0]       #[5][2] = tcol[3][2]
    newcol[3][1] = tcol[4][0]       #[5][1] = tcol[4][2]
    newcol[3][2] = tcol[3][0]       #[5][0] = tcol[5][2]
    newcol[3][3] = tcol[0][8]       #[5][11] = tcol[8][6]
    newcol[3][11] = tcol[8][8]      #[5][3] = tcol[0][6]
    newcol[4][0] = tcol[5][1]       #[4][2] = tcol[3][1]
    newcol[4][2] = tcol[3][1]       #[4][0] = tcol[5][1]
    newcol[4][3] = tcol[0][7]       #[4][11] = tcol[8][7]
    newcol[4][11] = tcol[8][7]      #[4][3] = tcol[0][7]
    newcol[5][0] = tcol[5][2]       #[3][2] = tcol[3][0]
    newcol[5][1] = tcol[4][2]       #[3][1] = tcol[4][0]
    newcol[5][2] = tcol[3][2]       #[3][0] = tcol[5][0]
    newcol[5][3] = tcol[0][6]       #[3][11] = tcol[8][8]
    newcol[5][11] = tcol[8][6]      #[3][3] = tcol[0][8]
    newcol[8][6] = tcol[3][3]       #[0][8] = tcol[5][11]
    newcol[8][7] = tcol[4][3]       #[0][7] = tcol[4][11]
    newcol[8][8] = tcol[5][3]       #[0][6] = tcol[3][11]


def back2(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[8][8]
    newcol[0][7] = tcol[8][7]
    newcol[0][8] = tcol[8][6]
    newcol[3][0] = tcol[5][2]
    newcol[3][1] = tcol[5][1]
    newcol[3][2] = tcol[5][0]
    newcol[3][3] = tcol[5][11]
    newcol[3][11] = tcol[5][3]
    newcol[4][0] = tcol[4][2]
    newcol[4][2] = tcol[4][0]
    newcol[4][3] = tcol[4][11]
    newcol[4][11] = tcol[4][3]
    newcol[5][0] = tcol[3][2]
    newcol[5][1] = tcol[3][1]
    newcol[5][2] = tcol[3][0]
    newcol[5][3] = tcol[3][11]
    newcol[5][11] = tcol[3][3]
    newcol[8][6] = tcol[0][8]
    newcol[8][7] = tcol[0][7]
    newcol[8][8] = tcol[0][6]


def backd(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[5][3]
    newcol[0][7] = tcol[4][3]
    newcol[0][8] = tcol[3][3]
    newcol[3][0] = tcol[3][2]
    newcol[3][1] = tcol[4][2]
    newcol[3][2] = tcol[5][2]
    newcol[3][3] =  tcol[8][6]
    newcol[3][11] =tcol[0][6]
    newcol[4][0] = tcol[3][1]
    newcol[4][2] = tcol[5][1]
    newcol[4][3] =  tcol[8][7]
    newcol[4][11] =tcol[0][7]
    newcol[5][0] = tcol[3][0]
    newcol[5][1] = tcol[4][0]
    newcol[5][2] = tcol[5][0]
    newcol[5][3] =  tcol[8][8]
    newcol[5][11] =tcol[0][8]
    newcol[8][6] = tcol[5][11]
    newcol[8][7] = tcol[4][11]
    newcol[8][8] = tcol[3][11]


def up(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[2][6]   #[2][8] = tcol[0][8]
    newcol[0][7] = tcol[1][6]   #[2][7] = tcol[1][8]
    newcol[0][8] = tcol[0][6]   #[2][6] = tcol[2][8]
    newcol[1][6] = tcol[2][7]   #[1][8] = tcol[0][7]
    newcol[1][8] = tcol[0][7]   #[1][6] = tcol[2][7]
    newcol[2][6] = tcol[2][8]   #[0][8] = tcol[0][6]
    newcol[2][7] = tcol[1][8]   #[0][7] = tcol[1][6]
    newcol[2][8] = tcol[0][8]   #[0][6] = tcol[2][6]
    newcol[3][0] = tcol[3][3]   #[3][6] = tcol[3][9]
    newcol[3][1] = tcol[3][4]   #[3][7] = tcol[3][10]
    newcol[3][2] = tcol[3][5]   #[3][8] = tcol[3][11]
    newcol[3][3] = tcol[3][6]   #[3][9] = tcol[3][0]
    newcol[3][4] = tcol[3][7]   #[3][10] = tcol[3][1]
    newcol[3][5] = tcol[3][8]   #[3][11] = tcol[3][2]
    newcol[3][6] = tcol[3][9]   #[3][0] = tcol[3][3]
    newcol[3][7] = tcol[3][10]  #[3][1] = tcol[3][4]
    newcol[3][8] = tcol[3][11]  #[3][2] = tcol[3][5]
    newcol[3][9] = tcol[3][0]   #[3][3] = tcol[3][6]
    newcol[3][10] = tcol[3][1]  #[3][4] = tcol[3][7]
    newcol[3][11] = tcol[3][2]  #[3][5] = tcol[3][8]


def up2(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[2][8]
    newcol[0][7] = tcol[2][7]
    newcol[0][8] = tcol[2][6]
    newcol[1][6] = tcol[1][8]
    newcol[1][8] = tcol[1][6]
    newcol[2][6] = tcol[0][8]
    newcol[2][7] = tcol[0][7]
    newcol[2][8] = tcol[0][6]
    newcol[3][0] = tcol[3][6]
    newcol[3][1] = tcol[3][7]
    newcol[3][2] = tcol[3][8]
    newcol[3][3] = tcol[3][9]
    newcol[3][4] = tcol[3][10]
    newcol[3][5] = tcol[3][11]
    newcol[3][6] = tcol[3][0]
    newcol[3][7] = tcol[3][1]
    newcol[3][8] = tcol[3][2]
    newcol[3][9] = tcol[3][3]
    newcol[3][10] = tcol[3][4]
    newcol[3][11] = tcol[3][5]


def upd(newcol):
    tcol = [x[:] for x in newcol]
    newcol[0][6] = tcol[0][8]
    newcol[0][7] = tcol[1][8]
    newcol[0][8] = tcol[2][8]
    newcol[1][6] = tcol[0][7]
    newcol[1][8] = tcol[2][7]
    newcol[2][6] = tcol[0][6]
    newcol[2][7] = tcol[1][6]
    newcol[2][8] = tcol[2][6]
    newcol[3][0] = tcol[3][9]
    newcol[3][1] = tcol[3][10]
    newcol[3][2] = tcol[3][11]
    newcol[3][3] = tcol[3][0]
    newcol[3][4] =  tcol[3][1]
    newcol[3][5] =  tcol[3][2]
    newcol[3][6] = tcol[3][3]
    newcol[3][7] = tcol[3][4]
    newcol[3][8] = tcol[3][5]
    newcol[3][9] = tcol[3][6]
    newcol[3][10] =tcol[3][7]
    newcol[3][11] =tcol[3][8]


def down(newcol):
    tcol = [x[:] for x in newcol]
    newcol[5][0] = tcol[5][9]   #[5][6] = tcol[5][3]
    newcol[5][1] = tcol[5][10]  #[5][7] = tcol[5][4]
    newcol[5][2] = tcol[5][11]  #[5][8] = tcol[5][5]
    newcol[5][3] = tcol[5][0]   #[5][9] = tcol[5][6]
    newcol[5][4] = tcol[5][1]   #[5][10] = tcol[5][7]
    newcol[5][5] = tcol[5][2]   #[5][11] = tcol[5][8]
    newcol[5][6] = tcol[5][3]   #[5][0] = tcol[5][9]
    newcol[5][7] = tcol[5][4]   #[5][1] = tcol[5][10]
    newcol[5][8] = tcol[5][5]   #[5][2] = tcol[5][11]
    newcol[5][9] = tcol[5][6]   #[5][3] = tcol[5][0]
    newcol[5][10] = tcol[5][7]  #[5][4] = tcol[5][1]
    newcol[5][11] = tcol[5][8]  #[5][5] = tcol[5][2]
    newcol[6][6] = tcol[8][6]   #[8][8] = tcol[6][8]
    newcol[6][7] = tcol[7][6]   #[8][7] = tcol[7][8]
    newcol[6][8] = tcol[6][6]   #[8][6] = tcol[8][8]
    newcol[7][6] = tcol[8][7]   #[7][8] = tcol[6][7]
    newcol[7][8] = tcol[6][7]   #[7][6] = tcol[8][7]
    newcol[8][6] = tcol[8][8]   #[6][8] = tcol[6][6]
    newcol[8][7] = tcol[7][8]   #[6][7] = tcol[7][6]
    newcol[8][8] = tcol[6][8]   #[6][6] = tcol[8][6]

def down2(newcol):
    tcol = [x[:] for x in newcol]
    newcol[5][0] = tcol[5][6]
    newcol[5][1] = tcol[5][7]
    newcol[5][2] = tcol[5][8]
    newcol[5][3] = tcol[5][9]
    newcol[5][4] = tcol[5][10]
    newcol[5][5] = tcol[5][11]
    newcol[5][6] = tcol[5][0]
    newcol[5][7] = tcol[5][1]
    newcol[5][8] = tcol[5][2]
    newcol[5][9] = tcol[5][3]
    newcol[5][10] = tcol[5][4]
    newcol[5][11] = tcol[5][5]
    newcol[6][6] = tcol[8][8]
    newcol[6][7] = tcol[8][7]
    newcol[6][8] = tcol[8][6]
    newcol[7][6] = tcol[7][8]
    newcol[7][8] = tcol[7][6]
    newcol[8][6] = tcol[6][8]
    newcol[8][7] = tcol[6][7]
    newcol[8][8] = tcol[6][6]

def downd(newcol):
    tcol = [x[:] for x in newcol]
    newcol[5][0] = tcol[5][3]
    newcol[5][1] = tcol[5][4]
    newcol[5][2] = tcol[5][5]
    newcol[5][3] = tcol[5][6]
    newcol[5][4] =  tcol[5][7]
    newcol[5][5] =  tcol[5][8]
    newcol[5][6] = tcol[5][9]
    newcol[5][7] = tcol[5][10]
    newcol[5][8] = tcol[5][11]
    newcol[5][9] = tcol[5][0]
    newcol[5][10] =tcol[5][1]
    newcol[5][11] =tcol[5][2]
    newcol[6][6] = tcol[6][8]
    newcol[6][7] = tcol[7][8]
    newcol[6][8] = tcol[8][8]
    newcol[7][6] = tcol[6][7]
    newcol[7][8] = tcol[8][7]
    newcol[8][6] = tcol[6][6]
    newcol[8][7] = tcol[7][6]
    newcol[8][8] = tcol[8][6]
